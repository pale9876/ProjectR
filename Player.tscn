[gd_scene format=3 uid="uid://c3xwqsfprgbn4"]

[ext_resource type="Script" uid="uid://dqgansavg6p5n" path="res://player.gd" id="1_kpjcp"]
[ext_resource type="Script" uid="uid://bl8ms0nmsmbkl" path="res://visible_notification_shape_2d.gd" id="3_kne1u"]
[ext_resource type="Script" uid="uid://csrwbqy0d4o5e" path="res://stat_handler.gd" id="4_hp6x6"]
[ext_resource type="Script" uid="uid://cuxvpat0q3ao5" path="res://inventory.gd" id="4_l6ohk"]
[ext_resource type="Script" uid="uid://cukf7tedk28ls" path="res://chara/unit_information.gd" id="5_l6ohk"]
[ext_resource type="Script" uid="uid://cxckpw1sbak1o" path="res://chara/chara_stat.gd" id="6_d6rpx"]
[ext_resource type="Script" uid="uid://c342mx8mdc4sm" path="res://hurt_box.gd" id="6_tdg3f"]
[ext_resource type="Script" uid="uid://dgpate5wpm75e" path="res://pose/pose_controller_2d.gd" id="7_3tkgg"]
[ext_resource type="Texture2D" uid="uid://bcx1k44j24ime" path="res://store/icon.svg" id="7_d6rpx"]
[ext_resource type="Script" uid="uid://x7od6vrds4mc" path="res://unit_event_handler.gd" id="7_dtqjt"]
[ext_resource type="Script" uid="uid://c7f8wtnojavju" path="res://pose/common/idle_pose.gd" id="8_l6ohk"]
[ext_resource type="Script" uid="uid://ch4rv3vox4xoi" path="res://pose/common/move_pose.gd" id="10_3tkgg"]
[ext_resource type="Script" uid="uid://brke4wqg4iytx" path="res://pose/common/fall_pose.gd" id="12_oudfo"]
[ext_resource type="Script" uid="uid://bvtcqfou8eqqb" path="res://jump_pose.gd" id="14_d6rpx"]

[sub_resource type="Resource" id="Resource_oudfo"]
resource_local_to_scene = true
script = ExtResource("5_l6ohk")
name = "RedHood"
metadata/_custom_type_script = "uid://cukf7tedk28ls"

[sub_resource type="Resource" id="Resource_r3kul"]
resource_local_to_scene = true
script = ExtResource("6_d6rpx")
metadata/_custom_type_script = "uid://cxckpw1sbak1o"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0rwas"]
size = Vector2(20, 42)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dtqjt"]
size = Vector2(20, 42)

[node name="Player" type="CharacterBody2D" unique_id=74662124 node_paths=PackedStringArray("pose_controller", "stat_handler", "init_collider")]
collision_layer = 0
script = ExtResource("1_kpjcp")
pose_controller = NodePath("PoseController2D")
stat_handler = NodePath("StatHandler")
init_collider = NodePath("Idle")

[node name="Inventory" type="Node" parent="." unique_id=379199741]
script = ExtResource("4_l6ohk")

[node name="UnitEventHandler" type="Node" parent="." unique_id=1569022870]
script = ExtResource("7_dtqjt")

[node name="StatHandler" type="Node" parent="." unique_id=234917428]
script = ExtResource("4_hp6x6")
information = SubResource("Resource_oudfo")
stat = SubResource("Resource_r3kul")

[node name="PlaceHolder" type="Sprite2D" parent="." unique_id=610565242]
position = Vector2(0, -21)
scale = Vector2(0.15625, 0.328125)
texture = ExtResource("7_d6rpx")

[node name="Idle" type="CollisionShape2D" parent="." unique_id=846775626]
position = Vector2(0, -21)
shape = SubResource("RectangleShape2D_0rwas")
debug_color = Color(0, 0.7607843, 0.57254905, 0.11764706)
script = ExtResource("3_kne1u")

[node name="PoseController2D" type="Node2D" parent="." unique_id=296513422 node_paths=PackedStringArray("agent", "pose", "init_pose")]
script = ExtResource("7_3tkgg")
agent = NodePath("..")
pose = {
&"Fall": NodePath("Fall"),
&"Idle": NodePath("Idle"),
&"Jump": NodePath("Jump"),
&"Move": NodePath("Move")
}
init_pose = NodePath("Idle")

[node name="Idle" type="Node2D" parent="PoseController2D" unique_id=1827049041 node_paths=PackedStringArray("move_pose", "fall_pose")]
script = ExtResource("8_l6ohk")
move_pose = NodePath("../Move")
fall_pose = NodePath("../Fall")

[node name="HurtBox" type="Area2D" parent="PoseController2D/Idle" unique_id=973652727]
collision_layer = 0
monitoring = false
script = ExtResource("6_tdg3f")
mask = 1

[node name="NotificationShape2D" type="CollisionShape2D" parent="PoseController2D/Idle/HurtBox" unique_id=1489290861]
position = Vector2(0, -21)
shape = SubResource("RectangleShape2D_dtqjt")
debug_color = Color(0.81960785, 0, 0, 0.101960786)
script = ExtResource("3_kne1u")
metadata/_custom_type_script = "uid://bl8ms0nmsmbkl"

[node name="Move" type="Node2D" parent="PoseController2D" unique_id=651046877 node_paths=PackedStringArray("idle_pose", "fall_pose")]
script = ExtResource("10_3tkgg")
idle_pose = NodePath("../Idle")
fall_pose = NodePath("../Fall")
metadata/_custom_type_script = "uid://cdb4dyqk3exd"

[node name="Fall" type="Node2D" parent="PoseController2D" unique_id=2130794940 node_paths=PackedStringArray("idle_pose")]
script = ExtResource("12_oudfo")
idle_pose = NodePath("../Idle")
metadata/_custom_type_script = "uid://cdb4dyqk3exd"

[node name="Jump" type="Node2D" parent="PoseController2D" unique_id=2067267275]
script = ExtResource("14_d6rpx")
metadata/_custom_type_script = "uid://cdb4dyqk3exd"
